# telemetry-controller

![Version: 0.3.1](https://img.shields.io/badge/Version-0.3.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square)

This chart deploys the ICOS Controller's Logging and Telemetry module.
It includes the following components:
- Thanos: for long-term storage of metrics
- OpenSearch: for long-term storage of logs
- AlertManager: for setting rules and receiving alerts on violations
- Grafana: for visualizing the data
- OpenTelemetry Collector: to receive data from ICOS Agents

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| Gabriele Giammatteo | <gabriele.giammatteo@eng.it> | <https://gitlab.res.eng.it/ggiammat> |

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| oci://harbor.res.eng.it/resengit/helm | resengit-common | ~0.9.0-0 |
| oci://registry-1.docker.io/bitnamicharts | grafana | 9.2.3 |
| oci://registry-1.docker.io/bitnamicharts | opensearch | 0.6.1 |
| oci://registry-1.docker.io/bitnamicharts | thanos | 12.13.7 |

## Values

### Alerts

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| alertmanager.enabled | bool | `true` | Enable the AlertManger |
| alertsWaitInterval | string | `"60s"` | the time to wait |

### Grafana

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| grafana.enabled | bool | `true` | Enable Grafana |
| grafana.icos.iam.authUrl | string | `"https://replace-with-keycloak-url/auth"` | URL for verifying the token |
| grafana.icos.iam.clientId | string | `"replace-with-client-id"` | Client Id for authentication |
| grafana.icos.iam.clientSecret | string | `"replace-with-client-secret"` | Client Secret for authentication |
| grafana.icos.iam.realm | string | `"icos-realm"` | Realm |
| grafana.icos.iam.tokenUrl | string | `"https://replace-with-keycloak-url/token"` | URL for the Token inspection |
| grafana.icos.iam.url | string | `"https://replace-with-keycloak-url"` | Url of the Keycloak URL |
| grafana.icos.iam.userInfoUrl | string | `"https://replace-with-keycloak-url/userInfo"` | URL for retrieving user info |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.13.1](https://github.com/norwoodj/helm-docs/releases/v1.13.1)
